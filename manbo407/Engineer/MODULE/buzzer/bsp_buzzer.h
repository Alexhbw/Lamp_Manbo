#ifndef BSP_BUZZER_H
#define BSP_BUZZER_H
#include "struct_typedef.h"
void buzzer_init();
extern void buzzer_on(uint16_t psc, uint16_t pwm);
extern void buzzer_off(void);
void buzzer_set_freq();
void buzzer_play_song(int song_list);
typedef enum {
    REST = 0,

    // --- Octave 3 (C3 ~ B3) ---
    C3  = 131,
    CS3 = 139,
    D3  = 147,
    DS3 = 156,
    E3  = 165,
    F3  = 175,
    FS3 = 185,  // F#3
    G3  = 196,
    GS3 = 208,
    A3  = 220,
    AS3 = 233,
    B3  = 247,

    // --- Octave 4 (C4 ~ B4) ---
    C4  = 262,
    CS4 = 277,
    D4  = 294,
    DS4 = 311,
    E4  = 330,
    F4  = 349,
    FS4 = 370,  // F#4
    G4  = 392,
    GS4 = 415,
    A4  = 440,
    AS4 = 466,
    B4  = 494,

    // --- Octave 5 (C5 ~ B5) ---
    C5  = 523,
    CS5 = 554,
    D5  = 587,
    DS5 = 622,
    E5  = 659,
    F5  = 698,
    FS5 = 740,  // ? 你问的 FS5 = F#5 ≈ 740Hz
    G5  = 784,
    GS5 = 831,
    A5  = 880,
    AS5 = 932,
    B5  = 988,

    // --- Octave 6 (C6) ---
    C6  = 1047,
		CS6 = 554*2,
    D6  = 587*2,
    DS6 = 622*2,
		E6  = 659*2,
} note_t;
typedef struct {
    uint16_t freq;     // Hz
    uint16_t ms;       // 时长
} tone_t;

// 示例：1(哆)2(来)3(咪) ― C大调
static const tone_t song_demo[] = {
    { C4, 300 },
    { D4, 300 },
    { E4, 300 },
    { REST, 200 },
    { E4, 300 },
    { D4, 300 },
    { C4, 600 },
};

static const tone_t song_windowsxp_start[] = {
    { G3, 300 },
    { C4, 300 },
    { D4, 300 },
    { E4, 350 },
    { A3, 600 },
		{ REST, 200 },
    { D4, 300 },
    { E4, 300 },
    { G4, 300 },
    { A4, 550 },
    { D4, 550 },		
		{ CS4, 300 },
    { REST, 200 },
};

static const tone_t song_happy[] = {
    { G5, 200 },
    { G5, 200 },
    { G5, 200 },
    { B5, 250 },
    { B5, 250 },
		{ B5, 250 },
		{ REST, 200 },
		
    { A5, 200 },
    { G5, 200 },
    { E5, 200 },
    { G5, 200 },
    { G5, 200 },		
		{ G5, 200 },
		{ REST, 200 },
		
		{ G5, 200 },
    { G5, 200 },
    { G5, 200 },
    { B5, 250 },
    { B5, 250 },
		{ B5, 250 },
		{ REST, 200 },
		
		{ A5, 200 },
    { G5, 200 },
    { A5, 200 },
    { A5, 200 },
    { B5, 200 },		
		{ A5, 200 },
		{ REST, 200 },
		
		{ G5, 200 },
    { G5, 200 },
    { G5, 200 },
    { B5, 250 },
    { D6, 250 },
		{ E6, 200 },
		
		{ A5, 200 },
    { G5, 200 },
    { B5, 200 },
    { G5, 200 },
    { A5, 200 },		
		{ G5, 200 },
		{ REST, 200 },
		
		{ G5, 200 },
    { G5, 200 },
    { G5, 200 },
    { B5, 200 },
    { B5, 200 },
		{ B5, 200 },
		{ B5, 200 },
		{ D5, 200 },
		{ D5, 200 },
		{ D5, 200 },
		{ A5, 200 },
    { G5, 200 },
		
    { REST, 200 },
};

static const tone_t song_sad[] = {
    { A5, 200 },
    { B5, 200 },
    { C6, 200 },
    { C6, 200 },
    { C6, 250 },
		{ C6, 250 },
		{ A5, 250 },
    { A5, 250 },
		{ B5, 300 },
		{ G5, 250 },
		{ E5, 250 },
    { A5, 400 },
		{ REST, 200 },
		
    { C5, 250 },
    { C5, 250 },
    { C5, 250 },
    { A5, 200 },
    { A5, 200 },		
		{ G5, 200 },
		{ G5, 200 },
		{ REST, 50 },
		
		{ G5, 200 },
		{ G5, 250 },
    { E5, 300 },		
		{ F5, 200 },
		{ REST, 200 },
		
		{ E5, 300 },
    { D5, 300 },
    { E5, 300 },
    { G5, 350 },
    { D5, 300 },
		{ REST, 200 },
		
		{ C5, 200 },
    { D5, 250 },
    { E5, 200 },
    { G5, 200 },
    { G5, 250 },		
		{ A5, 250 },
		{ E5, 400 },
		{ REST, 200 },
		
		{ A5, 200 },
    { B5, 200 },
    { C6, 250 },
    { E5, 200 },
    { G5, 200 },
		{ D5, 400 },
		
		{ E5, 200 },
    { A5, 200 },
    { A5, 400 },

		{ REST, 200 },


};

static const tone_t song_nat[] = {
    { C6, 400 },
    { B5, 400 },
    { G5, 400 },
    { C6, 400 },
    { B5, 400 },
		{ E5, 400 },
		{ A4, 400 },
		{ REST, 200 },
		
		{ C6, 400 },
    { B5, 400 },
    { G5, 400 },
    { C6, 400 },
    { B5, 400 },
		{ E5, 400 },
		{ REST, 200 },
		
		{ C6, 400 },
    { B5, 400 },
    { G5, 400 },
    { C6, 400 },
    { B5, 400 },
		{ G5, 400 },
		{ D6, 400 },
		{ E6, 400 },
		{ REST, 200 },


};

static const tone_t song_angery[] = {
    { C5, 200 },
    { E5, 200 },
    { G5, 400 },
    { G5, 400 },
    { G5, 200 },
		{ A5, 200 },
		
		{ G5, 250 },
    { E5, 250 },
    { C5, 250 },
    { E5, 250 },
    { D5, 300 },
		{ C5, 250 },
		{ D5, 250 },
		{ E5, 300 },
		{ REST, 200 },
		
		{ C5, 200 },
    { E5, 200 },
    { G5, 400 },
    { G5, 400 },
    { G5, 200 },
		{ A5, 200 },
		
		{ G5, 250 },
    { E5, 250 },
    { C5, 250 },
    { E5, 250 },
    { D5, 300 },
		{ C5, 250 },
		{ B4, 250 },
		{ C5, 300 },
		{ REST, 200 },
		
//		{ C5, 200 },
//    { E5, 200 },
//    { G5, 400 },
//    { G5, 400 },
//    { G5, 200 },
//		{ A5, 200 },
//		
//		{ G5, 250 },
//    { E5, 250 },
//    { C5, 250 },
//    { E5, 250 },
//    { D5, 300 },
//		{ C5, 250 },
//		{ B4, 250 },
//		{ C5, 300 },
		
		{ REST, 200 },


};


#endif
